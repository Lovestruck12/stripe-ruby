
Stripe.api_key =
‘sk_test_51Kl8HIGSHvi5JOIbXbs1kYhCJ4O4sXNMVNbwd34oxiiEojRI37zo7JqbT0OuxS8ffiMwhpTWuuOxHBLgtxAqZuoS005rnzSEdp’

Stripe::PaymentIntent.create(
  payment_method_types: ['klarna'],
  amount: ‘
  currency: 'usd’,
)

<input id="payment-name" type="text">
<button id="payment-button" data-secret="<%= @intent.client_secret %>">
  Submit Payment
</button>

get '/checkout' do
  @intent = # ... Fetch or create the PaymentIntent
erb :checkout
end

curl https://api.stripe.com/v1/accounts \
  -u ‘sk_test_51Kl8HIGSHvi5JOIbXbs1kYhCJ4O4sXNMVNbwd34oxiiEojRI37zo7JqbT0OuxS8ffiMwhpTWuuOxHBLgtxAqZuoS005rnzSEdp’
  -d "type"="custom" \
  -d "capabilities[card_payments][requested]"="true" \
  -d "capabilities[transfers][requested]"="true"
